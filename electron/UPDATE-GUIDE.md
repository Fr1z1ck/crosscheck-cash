# Руководство по обновлению CrossCheck CASH

## Для пользователей

### Автоматическое обновление

Приложение CrossCheck CASH автоматически проверяет наличие обновлений при запуске. Если обновление доступно, вы увидите уведомление с информацией о новой версии.

Процесс обновления:
1. При запуске приложения проверяется наличие обновлений
2. Если обновление найдено, оно автоматически загружается
3. По завершении загрузки появится диалоговое окно с предложением установить обновление
4. При нажатии "Установить" приложение перезапустится и обновится автоматически

### Ручная проверка обновлений

Вы также можете вручную проверить наличие обновлений в любое время:
1. Откройте меню "Справка"
2. Выберите "Проверить обновления"

### Примечания

- Для автоматического обновления требуется доступ в интернет
- Если обновление не может быть установлено автоматически, вы можете скачать последнюю версию с официального сайта или репозитория

## Для разработчиков

### Публикация обновлений

1. Обновите версию приложения в файле `package.json`:
   ```json
   {
     "version": "1.0.1"
   }
   ```

2. Зафиксируйте изменения в Git:
   ```bash
   git add package.json
   git commit -m "Версия 1.0.1"
   git push
   ```

3. Создайте токен доступа GitHub:
   - Перейдите в Settings -> Developer Settings -> Personal Access Tokens
   - Создайте новый токен с доступом к репозиторию (scope: repo)
   - Сохраните токен, он будет показан только один раз

4. Установите токен как переменную окружения:
   ```bash
   set GH_TOKEN=ваш_токен
   ```

5. Используйте инструмент сборки (builder.bat) для публикации:
   - Запустите файл `electron/builder.bat`
   - Выберите опцию [6] "Опубликовать обновление на GitHub"
   - Подтвердите действие

6. После завершения публикации на GitHub будет создан релиз с новой версией

### Процесс публикации обновлений (вручную)

Если вы предпочитаете использовать команды вручную:

```bash
# Установите токен GitHub (если еще не установлен)
set GH_TOKEN=ваш_токен

# Публикация обновления
npm run publish
```

### Тестирование обновлений в процессе разработки

Для тестирования процесса обновления:

1. Соберите и опубликуйте версию 1.0.0
2. Измените номер версии на 1.0.1 в package.json
3. Внесите изменения в приложение
4. Опубликуйте новую версию
5. Установите версию 1.0.0 на тестовый компьютер
6. Убедитесь, что приложение корректно обнаруживает и устанавливает обновление до версии 1.0.1 